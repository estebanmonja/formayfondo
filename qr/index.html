<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Forma & Fondo | Identidad Material</title>

<script src="https://cdn.tailwindcss.com"></script>
<script src="https://unpkg.com/qr-code-styling@1.5.0/lib/qr-code-styling.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">

<script>
tailwind.config = {
    theme: {
        extend: {
            colors: { neon: { 500: '#ff0098' } },
            fontFamily: { sans: ['Inter', 'sans-serif'] }
        }
    }
}
</script>

<style>
html { scroll-behavior: smooth; }
body {
    margin: 0;
    font-family: 'Inter', sans-serif;
    background: #000;
    color: white;
}

/* Card */
.card-container {
    position: relative;
    width: 100%;
    max-width: 480px;
    aspect-ratio: 1.58 / 1;
    border-radius: 16px;
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 10px 40px rgba(0,0,0,.6);
}

/* Materials */
.mat-phenolic { background: linear-gradient(145deg,#d39359,#8b4513); }
.mat-triplay { background:#e3d5b8; }
.mat-aluminum { background: linear-gradient(135deg,#eee,#999); }
.mat-valchromat { background:#111; }

/*  TRUE SQUARE LOCK */
.qr-square {
    width: 75%;
    aspect-ratio: 1 / 1;
    display: flex;
    align-items: center;
    justify-content: center;
}

/* QR renderer */
#canvas-container {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
}

#canvas-container svg {
    width: 100% !important;
    height: 100% !important;
}

/* Badge */
.try-me-badge {
    position: absolute;
    top: 14px;
    right: 14px;
    background: #ff0098;
    padding: 6px 14px;
    font-size: 10px;
    font-weight: 900;
    border-radius: 999px;
}

/* Inputs */
input {
    background: transparent;
    border-bottom: 1px solid #333;
    padding: 14px 0;
    width: 100%;
    color: white;
}

input:focus {
    outline: none;
    border-color: #ff0098;
}

.tab-active {
    color: #ff0098;
    border-bottom: 2px solid #ff0098;
}
</style>
</head>

<body>

<section class="min-h-screen flex items-center justify-center p-8">
<div class="max-w-6xl w-full grid lg:grid-cols-2 gap-16 items-center">

<!-- LEFT -->
<div class="flex flex-col items-center gap-6">
    <div class="w-full bg-neutral-900 p-4 rounded-2xl">
        <div id="material-frame" class="card-container mat-aluminum">
            <div class="try-me-badge">ESCANEA</div>

            <!--  SQUARE LOCK -->
            <div class="qr-square">
                <div id="canvas-container"></div>
            </div>
        </div>

        <div class="mt-4 flex justify-between text-xs uppercase text-neutral-500">
            <span>Previsualizaci贸n digital</span>
            <span id="mat-label">Aluminio cepillado</span>
        </div>
    </div>

    <p class="text-neon-500 text-xs font-black tracking-widest uppercase">
        隆Pru茅balo con tu c谩mara!
    </p>
</div>

<!-- RIGHT -->
<div class="space-y-10">
    <h2 class="text-6xl font-black italic uppercase">
        Configu<span class="text-neon-500">raci贸n</span>
    </h2>

    <div class="grid grid-cols-2 gap-4">
        <button onclick="updateMaterial('mat-phenolic','Fen贸lico / PCB')" class="border p-4 text-xs uppercase">PCB cobre</button>
        <button onclick="updateMaterial('mat-valchromat','Valchromat')" class="border p-4 text-xs uppercase">Valchromat</button>
        <button onclick="updateMaterial('mat-triplay','Triplay')" class="border p-4 text-xs uppercase">Triplay</button>
        <button onclick="updateMaterial('mat-aluminum','Aluminio')" class="border p-4 text-xs uppercase">Aluminio</button>
    </div>

    <div class="flex gap-8 border-b border-white/10">
        <button id="btn-url" onclick="switchMode('url')" class="pb-3 tab-active text-xs uppercase">Web / RRSS</button>
        <button id="btn-vcard" onclick="switchMode('vcard')" class="pb-3 text-xs uppercase text-neutral-500">Contacto pro</button>
    </div>

    <div id="url-fields">
        <input id="url-input" oninput="updateQR()" placeholder="Tu URL (ej: instagram.com/formayfondotaller)">
    </div>

    <div id="vcard-fields" class="hidden space-y-4">
        <input id="fname" oninput="updateQR()" placeholder="Nombre">
        <input id="lname" oninput="updateQR()" placeholder="Apellidos">
        <input id="company" oninput="updateQR()" placeholder="Empresa">
        <input id="email" oninput="updateQR()" placeholder="Correo">
        <input id="tel" oninput="updateQR()" placeholder="Tel茅fono">
    </div>

    <button onclick="sendWhatsApp()" class="w-full py-6 bg-neon-500 font-black uppercase tracking-widest">
        Solicitar cotizaci贸n
    </button>
</div>

</div>
</section>

<script>
let mode = 'url';

const qrCode = new QRCodeStyling({
    width: 500,
    height: 500,
    type: "svg",
    data: "https://formayfondotaller.com",
    qrOptions: {
        errorCorrectionLevel: "H",
        margin: 16
    },
    dotsOptions: { type: "rounded", color: "#333" },
    backgroundOptions: { color: "transparent" }
});

qrCode.append(document.getElementById("canvas-container"));

function switchMode(m) {
    mode = m;
    document.getElementById("url-fields").classList.toggle("hidden", m !== "url");
    document.getElementById("vcard-fields").classList.toggle("hidden", m !== "vcard");
    document.getElementById("btn-url").className = m === "url" ? "pb-3 tab-active text-xs uppercase" : "pb-3 text-xs uppercase text-neutral-500";
    document.getElementById("btn-vcard").className = m === "vcard" ? "pb-3 tab-active text-xs uppercase" : "pb-3 text-xs uppercase text-neutral-500";
    updateQR();
}

function updateMaterial(cls,label){
    document.getElementById("material-frame").className = `card-container ${cls}`;
    document.getElementById("mat-label").innerText = label;
}

function updateQR() {
    let data;
    if(mode === 'url'){
        data = document.getElementById("url-input").value || "https://formayfondotaller.com";
    } else {
        data =
`BEGIN:VCARD
VERSION:3.0
FN:${fname.value} ${lname.value}
ORG:${company.value}
EMAIL:${email.value}
TEL:${tel.value}
END:VCARD`;
    }
    qrCode.update({ data });
}

function sendWhatsApp(){
    const msg = `Hola Forma & Fondo, vengo del configurador de tarjetas CNC.`;
    window.open(`https://wa.me/5213300000000?text=${encodeURIComponent(msg)}`,'_blank');
}

updateQR();
</script>

</body>
</html>
